{
  "version": 1,
  "author": "Bram",
  "title": "Analog Sensor - Light Control",
  "description": "LDR sensor controls LED brightness with PWM",
  "files": {
    "sketch.ino": {
      "content": "const int LDR_PIN = A0;\nconst int LED_PIN = 11;\n\nconst int MIN_SENSOR_VALUE = 50;\nconst int MAX_SENSOR_VALUE = 900;\nconst int THRESHOLD_GELAP = 300;\nconst int THRESHOLD_TERANG = 700;\n\nvoid setup() {\n  pinMode(LED_PIN, OUTPUT);\n  Serial.begin(9600);\n  Serial.println(\"Light Sensor Program Started\");\n}\n\nvoid loop() {\n  int rawValue = analogRead(LDR_PIN);\n  int brightness = map(rawValue, MIN_SENSOR_VALUE, MAX_SENSOR_VALUE, 0, 255);\n  brightness = constrain(brightness, 0, 255);\n  \n  analogWrite(LED_PIN, brightness);\n  \n  Serial.print(\"Raw: \");\n  Serial.print(rawValue);\n  Serial.print(\" | Brightness: \");\n  Serial.print(brightness);\n  Serial.print(\" | Status: \");\n  \n  if (rawValue < THRESHOLD_GELAP) {\n    Serial.println(\"GELAP\");\n  } else if (rawValue > THRESHOLD_TERANG) {\n    Serial.println(\"TERANG\");\n  } else {\n    Serial.println(\"MEDIUM\");\n  }\n  \n  delay(100);\n}\n"
    }
  },
  "parts": [
    {
      "type": "wokwi-arduino-uno",
      "id": "uno",
      "top": 0,
      "left": 0
    },
    {
      "type": "wokwi-photoresistor",
      "id": "ldr1",
      "top": 100,
      "left": 150,
      "attrs": {
        "resistance": "10k"
      }
    },
    {
      "type": "wokwi-led",
      "id": "led1",
      "top": 150,
      "left": 250,
      "attrs": {
        "color": "red"
      }
    },
    {
      "type": "wokwi-resistor",
      "id": "r1",
      "top": 100,
      "left": 120,
      "attrs": {
        "value": "10k"
      }
    },
    {
      "type": "wokwi-resistor",
      "id": "r2",
      "top": 150,
      "left": 200,
      "attrs": {
        "value": "220"
      }
    }
  ],
  "connections": [
    [
      "uno:5V",
      "ldr1:1",
      "red",
      ["h12"]
    ],
    [
      "ldr1:2",
      "uno:A0",
      "green",
      ["h12"]
    ],
    [
      "ldr1:2",
      "r1:1",
      "green",
      ["h0"]
    ],
    [
      "r1:2",
      "uno:GND",
      "black",
      ["h0"]
    ],
    [
      "uno:11",
      "r2:1",
      "green",
      ["h12"]
    ],
    [
      "r2:2",
      "led1:A",
      "green",
      ["h0"]
    ],
    [
      "led1:C",
      "uno:GND",
      "black",
      ["h0"]
    ]
  ]
}
